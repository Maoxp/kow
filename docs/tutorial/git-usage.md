# Git æ¡ˆåˆ—åˆ†äº«

 åˆå§‹åŒ–ä¸€ä¸ªbranchçš„é»˜è®¤åç§°
 
`git config --global init.defaultBranch <name>`

## create a new repository on the command line

### push an new repository

```bash
echo "# xxxx.github.io" >> README.md
git init
git add -A
git commit -m "first commit"
git branch -M master
git remote add origin git@github.com:<UserName>/<RepositoryName>.git
git push -u origin master
```

### push an existing repository

```bash
git remote add origin git@github.com:<UserName>/<RepositoryName>.git
git branch -M master
git push -u origin master
```

## rebase ä¸»è¦æ˜¯ 3 ä¸ªåœºæ™¯

1ã€å¦‚æœæœ‰ç›´æ¥åœ¨ `dev` ä¸Šå¼€å‘ï¼Œåœ¨ **pull è¿œç¨‹çš„ dev** æ—¶ï¼Œç”¨ `git pull --rebase origin dev`

2ã€å¦‚æœåœ¨åŠŸèƒ½**åˆ†æ”¯ä¸Šï¼ˆæ¯”å¦‚åˆ†æ”¯ï¼š`dev-f1`ï¼‰å¼€å‘ï¼Œæ¯å®Œæˆä¸€ä¸ªåŠŸèƒ½ç‚¹**æˆ–è€…æœ‰å‡ ä¸ª commits æ—¶ï¼Œå…ˆåˆ‡æ¢åˆ° `dev` ï¼Œç”¨ `git pull --rebase origin dev`ï¼Œè®© `dev` ä¿æŒæœ€æ–°çš„ HEADï¼Œå†åˆ‡å› `dev-f1`ï¼Œç”¨ `git rebase dev` ï¼Œè®© `dev-f1` çš„ base æ˜¯ `dev` çš„ HEAD

```bash
git checkout dev
git pull --rebase origin dev

git checkout dev-f1
git rebase dev
```

3ã€å’Œ 2 çš„æƒ…å†µåŸºæœ¬ä¸€æ ·ï¼Œå°±æ˜¯å½“ä½ **åŠŸèƒ½å®Œæˆæ—¶ï¼Œè¦æŠŠ dev-f1 åˆå¹¶åˆ° dev** ä¹‹å‰ï¼Œæ‰§è¡Œ 2 çš„æ‰€æœ‰æ“ä½œåï¼Œå†åˆ‡æ¢å› `dev` ï¼Œä½¿ç”¨ `git merge dev-f1`ï¼Œæ“ä½œå®Œåå¿™æŠŠ `dev` çš„å†…å®¹ push åˆ°è¿œç¨‹ dev åˆ†æ”¯

```bash
git checkout dev
git pull --rebase origin dev

git checkout dev-f1
git rebase dev

git checkout dev
git merge dev-f1
```

## æäº¤ï¼ˆCommitï¼‰

### reset æ’¤é”€

ä½¿ç”¨äº†`git add *`, `git commit -m '...'`ä¹‹åï¼Œæ²¡æœ‰pushï¼Œæƒ³è¦æ’¤é”€ï¼Œæ‰¾ä¸åˆ°æ¸ é“ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ

æ‰§è¡Œå‘½ä»¤ğŸ‘‡ï¼Œå°±å¯ä»¥æˆåŠŸ**æ’¤é”€commit**ï¼Œä¿ç•™addå‘½ä»¤çš„æ“ä½œç»“æœï¼Œå½“å‰æ”¹åŠ¨è®°å½•ä»»ç„¶ä¿å­˜åœ¨æš‚å­˜åŒº(staged)ã€‚

```bash
git reset --soft HEAD^
```

- `HEAD^` : è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬.  `HEAD^` ç­‰åŒäº `HEAD~1`

- `--soft`: ä¸åˆ é™¤å·¥ä½œç©ºé—´çš„æ”¹åŠ¨ä»£ç ï¼Œåªæ’¤é”€commitï¼Œä¸æ’¤é”€ `git add file`

é‚£å¦‚æœæˆ‘**æ’¤é”€æ‰€æœ‰ï¼ŒåŒ…æ‹¬è¢«ä¿®æ”¹çš„å†…å®¹**ï¼Œä¸æƒ³ç•™ä»»ä½•ç—•è¿¹äº†ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ

```bash
git reset --hard HEAD^
```

`--hard`: åˆ é™¤å·¥ä½œç©ºé—´çš„æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitä¸”æ’¤é”€add

### é‡æ–°ä¿®æ”¹commitæ³¨é‡Š

```bash
# first step
git commit -amend

# second step
# è¿™æ—¶å€™ä¼šè¿›å…¥vimç¼–è¾‘å™¨ï¼Œä¿®æ”¹å®Œæˆä½ è¦çš„æ³¨é‡Šåä¿å­˜å³å¯
```

### rebase åˆå¹¶å¤šä¸ªcommitä¸ºä¸€ä¸ªå®Œæ•´commit

 **rebaseå‘½ä»¤**ï¼šå¯ä»¥å¯¹æŸä¸€æ®µçº¿æ€§æäº¤å†å²è¿›è¡Œç¼–è¾‘ã€åˆ é™¤ã€å¤åˆ¶ã€ç²˜è´´ï¼›å› æ­¤ï¼Œåˆç†ä½¿ç”¨ `rebase` å‘½ä»¤å¯ä»¥ä½¿æˆ‘ä»¬çš„æäº¤å†å²å¹²å‡€ã€ç®€æ´ï¼

å½“æˆ‘åœ¨æœ¬åœ°ä»“åº“ä¸­æäº¤äº†å¤šæ¬¡ï¼Œåœ¨æˆ‘ä»¬æŠŠæœ¬åœ°æäº¤pushåˆ°å…¬å…±ä»“åº“ä¸­ä¹‹å‰ï¼Œä¸ºäº†è®©æäº¤è®°å½•æ›´ç®€æ´æ˜äº†ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠå¤šä¸ªæäº¤è®°å½•åˆå¹¶ä¸ºä¸€ä¸ªå®Œæ•´çš„æäº¤ï¼Œç„¶åå†pushåˆ°å…¬å…±ä»“åº“ã€‚

è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å‘½ä»¤:

`git rebase -i [startpoint] [endpoint]`

å…¶ä¸­`-i`çš„æ„æ€æ˜¯`--interactive`ï¼Œå³å¼¹å‡ºäº¤äº’å¼çš„ç•Œé¢è®©ç”¨æˆ·ç¼–è¾‘å®Œæˆåˆå¹¶æ“ä½œï¼Œ`[startpoint]` `[endpoint]`åˆ™æŒ‡å®šäº†ä¸€ä¸ªç¼–è¾‘åŒºé—´ï¼Œå¦‚æœä¸æŒ‡å®š`[endpoint]`ï¼Œåˆ™è¯¥åŒºé—´çš„ç»ˆç‚¹é»˜è®¤æ˜¯å½“å‰åˆ†æ”¯HEADæ‰€æŒ‡å‘çš„commit

æ³¨ï¼šè¯¥åŒºé—´æŒ‡å®šçš„æ˜¯ä¸€ä¸ª**å‰å¼€åé—­çš„åŒºé—´**

åœ¨æŸ¥çœ‹åˆ°äº†logæ—¥å¿—åï¼Œæˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

`git rebase -i 36224d` æˆ– `git rebase -i HEAD~3`

ç„¶åæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢: ä¿®æ”¹å…¶ä¸­commitè®°å½•å³å¯

![git rebaseä½¿ç”¨](http://img.geek-docs.com/git/cmd/rebase/git-rebase-02.png)

é‡Œé¢æœªè¢«æ³¨é‡Šçš„éƒ¨åˆ†åˆ—å‡ºçš„æ˜¯æˆ‘ä»¬æœ¬æ¬¡rebaseæ“ä½œåŒ…å«çš„æ‰€æœ‰æäº¤ï¼Œä¸‹é¢æ³¨é‡Šéƒ¨åˆ†æ˜¯gitä¸ºæˆ‘ä»¬æä¾›çš„å‘½ä»¤è¯´æ˜ã€‚æ¯ä¸€ä¸ªcommit id å‰é¢çš„`pick`è¡¨ç¤ºæŒ‡ä»¤ç±»å‹ï¼Œgit ä¸ºæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤:

> pickï¼šä¿ç•™è¯¥commitï¼ˆç¼©å†™:pï¼‰
>
> rewordï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘éœ€è¦ä¿®æ”¹è¯¥commitçš„æ³¨é‡Šï¼ˆç¼©å†™:rï¼‰
>
> editï¼šä¿ç•™è¯¥commit, ä½†æˆ‘è¦åœä¸‹æ¥ä¿®æ”¹è¯¥æäº¤(ä¸ä»…ä»…ä¿®æ”¹æ³¨é‡Š)ï¼ˆç¼©å†™:eï¼‰
>
> squashï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼ˆç¼©å†™:sï¼‰
>
> fixupï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼Œä½†æˆ‘ä¸è¦ä¿ç•™è¯¥æäº¤çš„æ³¨é‡Šä¿¡æ¯ï¼ˆç¼©å†™:fï¼‰
>
> execï¼šæ‰§è¡Œshellå‘½ä»¤ï¼ˆç¼©å†™:xï¼‰
>
> dropï¼šæˆ‘è¦ä¸¢å¼ƒè¯¥commitï¼ˆç¼©å†™:dï¼‰

ç„¶åï¼Œæˆ‘ä»¬**å¯ä»¥è°ƒæ•´commitçš„é¡ºåºï¼Œå†å°†pick ä¿®æ”¹ä¸º squash å°†ä¸è¿ç»­commitçš„åˆå¹¶**ï¼Œwqä¿å­˜ï¼Œè¿›å…¥æ³¨é‡Šä¿®æ”¹ç•Œé¢ï¼šé‡æ–°ä¿®æ”¹åˆå¹¶åçš„æ³¨é‡Šä¿¡æ¯ï¼Œwqä¿å­˜å³å¯ï¼

å¦‚æœæœ‰å†²çªï¼Œå†²çªè§£å†³åï¼Œè®°å¾—å…ˆ git addï¼Œå† `git rebase --continue`

**æ“ä½œå®Œrebaseä»¥åï¼Œåæ‚”äº†ä¸æƒ³continueäº†è¯¥å¦‚ä½•æ“ä½œï¼Ÿ**

```bash
git rebase --abort
```

### rebase å°†æŸä¸€æ®µcommitç²˜è´´åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š

å½“é¡¹ç›®ä¸­å­˜åœ¨å¤šä¸ªåˆ†æ”¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å°†æŸä¸€ä¸ªåˆ†æ”¯ä¸­çš„ä¸€æ®µæäº¤åŒæ—¶åº”ç”¨åˆ°å…¶ä»–åˆ†æ”¯ä¸­, å°±åƒä¸‹å›¾ï¼š

[ç‚¹å‡»æ­¤å¤„å»ğŸ‘€](https://upload-images.jianshu.io/upload_images/2147642-0de010746cb78401.png)

å¸Œæœ›å°†developåˆ†æ”¯ä¸­çš„C~Eéƒ¨åˆ†å¤åˆ¶åˆ°masteråˆ†æ”¯ï¼Œé€šè¿‡rebaseå‘½ä»¤æ¥å®ç°ï¼ˆå¦‚æœåªæ˜¯å¤åˆ¶æŸä¸€ä¸¤ä¸ªæäº¤åˆ°å…¶ä»–åˆ†æ”¯ï¼Œå»ºè®®ä½¿ç”¨æ›´ç®€å•çš„å‘½ä»¤:`git cherry-pick`ï¼‰ã€‚

æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤çš„å½¢å¼ä¸º:

```bash
 git rebase   [startpoint]   [endpoint]  --onto  [branchName]
```

è¿è¡Œå¦‚ä¸‹ï¼š

```bash
git checkout develop
# å¤åˆ¶commitï¼ŒC(90bc0045b)å’ŒE(5de0da9f2)çš„æäº¤id
git rebase 90bc0045b^ 5de0da9f2 --onto master
# æ³¨:å› ä¸º[startpoint] [endpoint]æŒ‡å®šçš„æ˜¯ä¸€ä¸ªå‰å¼€åé—­çš„åŒºé—´ï¼Œä¸ºäº†è®©è¿™ä¸ªåŒºé—´åŒ…å«Cæäº¤ï¼Œæˆ‘ä»¬å°†åŒºé—´èµ·å§‹ç‚¹å‘åé€€äº†ä¸€æ­¥

# HEADå¤„äºæ¸¸ç¦»çŠ¶æ€
git status
# è§£å†³HEADçš„æ¸¸ç¦»é—®é¢˜
git checkout master
git reset --hard  0c72e64
```

è¿è¡Œå®Œæˆä¹‹åï¼Œ `git log` å¯ä»¥çœ‹å‡ºC~Eéƒ¨åˆ†å·²æˆåŠŸå¤åˆ¶åˆ°masteråˆ†æ”¯ï¼Œ**ä½†æ˜¯ï¼Œæ­¤æ—¶developåˆ†æ”¯çš„HEADå¤„äºæ¸¸ç¦»çŠ¶æ€, æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å°†masteræ‰€æŒ‡å‘çš„æäº¤idè®¾ç½®ä¸ºå½“å‰HEADæ‰€æŒ‡å‘çš„æäº¤idå°±å¯ä»¥äº†**

```bash
git checkout master
git reset --hard  0c72e64
```

### reset å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬

å½“æœ¬æ¬¡æäº¤çš„ä»£ç ï¼Œåœ¨ç”Ÿäº§pull åï¼Œå‡ºç°é—®é¢˜ï¼ŒåŠæ—¶å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬, é˜²æ­¢é€ æˆç”Ÿäº§äº‹æ•…ï¼Œç‰¹åˆ«æ˜¯å¼±ç±»å‹è¯­è¨€éœ€è¦å­¦ä¼šæ­¤æ“ä½œã€‚

1. è¿è¡Œ`git log --pretty=oneline`å‘½ä»¤æŸ¥çœ‹ä½ å½“å‰HEADæŒ‡é’ˆæ‰€åœ¨ä½ç½®çš„å…¨éƒ¨logè®°å½•
2. æ ¹æ®commitä¿¡æ¯æ‰¾åˆ°è¦å›æ»šçš„ç‰ˆæœ¬å·ï¼ˆå¦‚:8b9b0ccfï¼‰
3. `git reset --hard 8b9b0ccf` å³å¯å›æ»šåˆ°è¯¥æ¬¡commitç‰ˆæœ¬
4. å¦‚æœè¿˜éœ€è¦ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨`git reset --soft HEAD^`ï¼Œæ’¤é”€æœ¬æ¬¡commit

----

## åˆ†æ”¯(branch)

### æŸ¥çœ‹ä¸åŒåˆ†æ”¯çš„å·®å¼‚

```bash
# å½“å‰åˆ†æ”¯ dev, æ¯”å¯¹master åˆ†æ”¯ï¼Œæœ‰å•¥ä¸åŒä¹‹å¤„ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤
git diff master
```

### A åˆ†æ”¯æ‹‰å– master åˆ†æ”¯æœ€æ–°ä»£ç 

ç¬¬ä¸€ç§ï¼šgit pull + merge: è·å–æœ€æ–°ä»£ç åˆ°æœ¬åœ°ï¼Œç„¶åæ‰‹åŠ¨åˆå¹¶åˆ†æ”¯

```bash
# åˆ‡æ¢åˆ° master åˆ†æ”¯
git checkout master
git pull origin master

# åˆ‡æ¢åˆ° A åˆ†æ”¯
git checkout A
git pull origin A

# åˆå¹¶master -> A
git merge master
# å¦‚é‡åˆ°å†²çªè§£å†³å†²çª, åœ¨æäº¤
git push origin A

```

ç¬¬äºŒç§ï¼šgit pull è·å–æœ€æ–°ä»£ç åˆ°æœ¬åœ°ï¼Œå¹¶è‡ªåŠ¨åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚

è¿™ç§æ–¹å¼è‡ªåŠ¨åˆå¹¶æœ€æ–°ä»£ç ï¼Œæ— æ³•æå‰å¤„ç†å†²çªä»£ç ã€‚

```bash
# åœ¨ A åˆ†æ”¯ ç›´æ¥æ‹‰å–åˆå¹¶ masteræœ€æ–°ä»£ç 
git pull origin master
```

### æ–°å»ºåˆ†æ”¯å¹¶æäº¤ä»£ç æµç¨‹

é¦–å…ˆï¼Œåœ¨ä½ æ–°å»ºåˆ†æ”¯ä¹‹å‰ï¼Œä½ åº”è¯¥åœ¨masteråˆ†æ”¯,å¹¶ä¸”è¦ä¿è¯ä½ å½“å‰çš„æ˜¯æœ€æ–°ä»£ç ï¼Œè¦ä¸ç„¶å°±æ˜¯æ‰¾æ­».

æ–°å»ºåˆ†æ”¯ï¼Œæäº¤è‡³è¿œç¨‹ä»“åº“

```bash
git pull origin master  # åœ¨masteråˆ†æ”¯ä¸‹ï¼Œä¿è¯å½“å‰ä»£ç ä¸çº¿ä¸ŠåŒæ­¥ï¼Œæ˜¯æœ€æ–°çš„
git branch <åˆ†æ”¯å>     # æ­£å„¿å…«ç»çš„æ–°å»ºåˆ†æ”¯ã€‚
git checkout <åˆ†æ”¯å>   # åˆ‡æ¢ åˆ°æ–°å»ºçš„åˆ†æ”¯ä¸Šï¼Œå†è¿›è¡Œä¸‹ä¸€æ­¥ã€‚
git push -u origin <åˆ†æ”¯å> # æŠŠæœ¬åœ°åˆ†æ”¯æ¨åˆ°è¿œç«¯ï¼Œå¹¶å»ºç«‹å…³è”ã€‚ï¼ˆ--set-upstream = -uï¼‰
```

æäº¤æŸåˆ†æ”¯åˆ°ä»£ç 

```bash
git status #æŸ¥çœ‹è‡ªå·±å†™äº†å“ªäº›ä¸œè¥¿ã€‚
git add .
git commit -m ''
git pull --rebase origin <è¿œç¨‹åˆ†æ”¯å> # å½“è·Ÿåˆ«äººå…±ç”¨ä¸€ä¸ªåˆ†æ”¯ï¼Œä»–æäº¤äº†ä¸€æ®µä»£ç åˆ°è¿œç«¯ï¼Œæ‰€ä»¥å¯¼è‡´ä½ çš„æœ¬åœ°è½åäºè¿œç«¯,æŠŠä»–æ›´æ–°æˆæœ€æ–°çš„
git push origin <åˆ†æ”¯å>  # pushæ˜¯ä»æœ¬åœ°å‘è¿œç«¯æ¨ä»£ç 
```

### ä»è¿œç¨‹åˆ†æ”¯æ‹‰å–ä»£ç åˆ°æœ¬åœ°çš„ä¸€ä¸ªæ–°åˆ†æ”¯

å¦‚æœè¿œç¨‹æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯ï¼Œæœ¬åœ°æ²¡æœ‰è¯¥åˆ†æ”¯, ä½ è¦åšçš„å°±æ˜¯æŠŠè¿œç«¯çš„åˆ†æ”¯æ‹‰åˆ°è‡ªå·±æœ¬åœ°: `git fetch origin <è¿œç¨‹åˆ†æ”¯å>:<åˆ†æ”¯å>`

```bash
# æ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°åˆ†æ”¯
git fetch origin <è¿œç¨‹åˆ†æ”¯å>:<åˆ†æ”¯å>
# è®¾ç½®æœ¬åœ°ä¸è¿œç¨‹åˆ†æ”¯å…³è”
git branch -u origin/remoteBranch branchName
```

----

```bash
# æ–°å»ºæœ¬åœ°åˆ†æ”¯åï¼Œä¸”ä¸è¿œç¨‹åˆ†æ”¯åç›¸å…³è”
git checkout -b branch_name origin/<è¿œç¨‹åˆ†æ”¯å>
```

----

```bash
# è¿™æ—¶æœ¬åœ°ä¼šæ–°å»ºä¸€ä¸ªåˆ†æ”¯åå« branch_name ï¼Œä¼šè‡ªåŠ¨è·Ÿè¸ªè¿œç¨‹çš„åŒååˆ†æ”¯ branch_nameã€‚
git checkout --track origin/branch_name
```

### å‘½ä»¤æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ã€è¿œç¨‹åˆ†æ”¯ä»¥åŠå…³ç³»

```bash
$ git branch -vv
* 1.x    de291ec [origin/1.x] merge #4025456 into master from wms
  master de291ec [origin/master] merge #4025456 into master from wms
  nacos  9e6babe feat: nacos é…ç½®center
  
$ git branch -v
  1.x            250a831 feat: æ–°å¢ç”¨æˆ·æ³¨é”€åŠŸèƒ½
  2.1.0-sql      2fd5454 [è½å 17] feat: xmlæ˜ å°„è¡¨ç»“æ„å­—æ®µä¿®æ”¹  
```

**æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯:** `git branch -r`

**æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯:** `git branch`

**æŸ¥çœ‹å…¨éƒ¨åˆ†æ”¯(è¿œç¨‹åˆ†æ”¯ä¼šç”¨çº¢è‰²æ ‡æ³¨):** `git branch -a`

### åˆ é™¤åˆ†æ”¯

1. åˆ é™¤æœ¬åœ°åˆ†æ”¯ ( åˆ‡æ¢åˆ°masteråˆ†æ”¯ä¹‹åå†åˆ é™¤ )
`git branch -d <åˆ†æ”¯å>`

2. åˆ é™¤è¿œç«¯åˆ†æ”¯

```bash
git branch -r -d  <åˆ†æ”¯å>
git push origin :<åˆ†æ”¯å>

# or
git push origin --delete <åˆ†æ”¯å>
```

----

## é…ç½®å¤šä¸ªè¿œç¨‹ä»“åº“å¹¶æ¨æ‹‰ä»£ç 

```bash
# æŸ¥çœ‹å·²æœ‰å¤šè¿œç¨‹åœ°å€
git remote -v
# æ·»åŠ æ–°çš„è¿œç¨‹åœ°å€, å¹¶è®¾ç½®å®ƒçš„åå­—ä¸ºmxp-origin
git remote add mxp-origin git@codeup.aliyun.com:62f3076b/bms/mattress.git
# å°†æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹æŸåˆ†æ”¯å»ºç«‹å¯¹åº”
git push -u mxp-origin master

# ä¸å¹³æ—¶ä¸€æ ·æ­£å¸¸æ¨æ‹‰ä»£ç 
git push mxp-origin æœ¬åœ°åˆ†æ”¯å:è¿œç¨‹åˆ†æ”¯å
git pull mxp-origin è¿œç¨‹åˆ†æ”¯å:æœ¬åœ°åˆ†æ”¯å
```

### å–æ¶ˆæœ¬åœ°ç›®å½•ä¸‹å…³è”çš„è¿œç¨‹åº“

`git remote remove mxp-origin`

## æ‰“æ ‡ç­¾(tag)

ç»™ä»“åº“å†å²ä¸­çš„æŸä¸€ä¸ªæäº¤æ‰“ä¸Šæ ‡ç­¾ï¼Œä»¥ç¤ºé‡è¦ã€‚

1. åˆ—å‡ºtagã€æŸ¥æ‰¾æŒ‡å®š`tag`æ ‡è®°å·

    `git tag [-l "v1.2.*"]`

2. æ˜¾ç¤º`tag`ä¿¡æ¯å’Œæäº¤ä¿¡æ¯

    `git show v0.1`

3. åˆ›å»ºæ–°`tag`

    - **lightweight**: è½»é‡æ ‡ç­¾å¾ˆåƒä¸€ä¸ªä¸ä¼šæ”¹å˜çš„åˆ†æ”¯â€”â€”å®ƒåªæ˜¯æŸä¸ªç‰¹å®šæäº¤çš„å¼•ç”¨ã€‚æœ¬è´¨ä¸Šæ˜¯å°†æäº¤æ ¡éªŒå’Œå­˜å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­â€”â€”æ²¡æœ‰ä¿å­˜ä»»ä½•å…¶ä»–ä¿¡æ¯ã€‚ä¸éœ€è¦ä½¿ç”¨ `-a`ã€`-s` æˆ– `-m` é€‰é¡¹ï¼Œåªéœ€è¦æä¾›æ ‡ç­¾åå­—ï¼š
    `git tag v.0.1`

    - **annotated**: é™„æ³¨æ ‡ç­¾æ˜¯å­˜å‚¨åœ¨ Git æ•°æ®åº“ä¸­çš„ä¸€ä¸ªå®Œæ•´å¯¹è±¡,å®ƒä»¬æ˜¯å¯ä»¥è¢«æ ¡éªŒçš„ï¼Œå…¶ä¸­åŒ…å«æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´ï¼Œ æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªæ ‡ç­¾ä¿¡æ¯.
    `git tag -a v.0.1 -m 'init tag v0.1'`

4. åæœŸæ‰“æ ‡ç­¾

    ä¹Ÿå¯ä»¥å¯¹è¿‡å»çš„æäº¤è¡¥æ‰“æ ‡ç­¾ã€‚

    å…ˆæ‰¾åˆ°æäº¤å†å²æ˜¯è¿™æ ·çš„ï¼š`git log --pretty=oneline`

    ç»™æŸä¸ªcommitæ‰“æ ‡ç­¾:  `git tag -a v1.2 9fceb02`

    æœ€åpush tag:   `git push origin v1.2`

5. push tagåˆ°è¿œç¨‹ä»“åº“

    é»˜è®¤æƒ…å†µä¸‹ï¼Œ`git push` å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šã€‚

    åœ¨åˆ›å»ºå®Œæ ‡ç­¾åä½ å¿…é¡»æ˜¾å¼åœ°æ¨é€æ ‡ç­¾ï¼Œæ‰èƒ½åˆ°å…±äº«æœåŠ¡å™¨ä¸Šã€‚ å°±åƒå…±äº«è¿œç¨‹åˆ†æ”¯ä¸€æ · --- `git push origin <tagname>`ã€‚

    å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æ¨é€å¾ˆå¤šæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¸¦æœ‰ `--tags` é€‰é¡¹çš„ `git push` å‘½ä»¤ã€‚

    `git push origin v0.1`

    `git push origin --tags`

6. åˆ é™¤æ ‡ç­¾

    è¦åˆ é™¤æ‰ä½ æœ¬åœ°ä»“åº“ä¸Šçš„æ ‡ç­¾: `git tag -d <tagname>` (æ³¨æ„ä¸Šè¿°å‘½ä»¤å¹¶ä¸ä¼šä»ä»»ä½•è¿œç¨‹ä»“åº“ä¸­ç§»é™¤è¿™ä¸ªæ ‡ç­¾)

    ä»è¿œç¨‹ä»“åº“åˆ é™¤æ ‡ç­¾

    ç¬¬ä¸€ç§å˜ä½“:
    `git push <remote> :refs/tags/<tagname>`

    ä¸Šé¢è¿™ç§æ“ä½œçš„å«ä¹‰æ˜¯, å°†å†’å·å‰é¢çš„ç©ºå€¼æ¨é€åˆ°è¿œç¨‹æ ‡ç­¾åï¼Œä»è€Œé«˜æ•ˆåœ°åˆ é™¤å®ƒ

    ç¬¬äºŒç§æ›´ç›´è§‚ï¼š
    `git push origin --delete <tagname>`
